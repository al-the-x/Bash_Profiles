#!/usr/bin/env zsh

if [ -t 1 ]; then
  $(which curl) -ns ${@[3,-1]} https://api.github.com/${1/#\//} \
    | $(which jq) -C ${2:=.} | LESS="$LESS"' -r' $(which less)
else
  $(which curl) -ns ${@[3,-1]} https://api.github.com/${1/#\//} \
    | $(which jq) ${2:=.}
fi
